[gd_scene load_steps=17 format=3 uid="uid://btjqowh2p16x5"]

[ext_resource type="Script" path="res://scripts/mech.gd" id="1_4wnik"]
[ext_resource type="PackedScene" uid="uid://cx0c3f8n6wd08" path="res://raw/mech.blend" id="1_m5y15"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_3r71t"]
animation = &"idle"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_576qm"]
animation = &"run"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_8fpr2"]
animation = &"shoot"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_7458e"]
advance_mode = 2

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_l62e1"]
xfade_time = 0.5
advance_mode = 2
advance_condition = &"run"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_0ad4g"]
xfade_time = 0.1
advance_mode = 2
advance_condition = &"shoot"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_7k6gg"]
xfade_time = 0.5
advance_mode = 2
advance_condition = &"idle"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_6jk3g"]
xfade_time = 0.5
advance_mode = 2
advance_condition = &"idle"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_dkrie"]
xfade_time = 0.1
advance_mode = 2
advance_condition = &"run"

[sub_resource type="AnimationNodeStateMachineTransition" id="AnimationNodeStateMachineTransition_8sl7f"]
xfade_time = 0.5
advance_mode = 2
advance_condition = &"shoot"

[sub_resource type="AnimationNodeStateMachine" id="AnimationNodeStateMachine_kbpvn"]
states/idle/node = SubResource("AnimationNodeAnimation_3r71t")
states/idle/position = Vector2(357.333, 26.6667)
states/run/node = SubResource("AnimationNodeAnimation_576qm")
states/run/position = Vector2(449.333, 110.667)
states/shoot/node = SubResource("AnimationNodeAnimation_8fpr2")
states/shoot/position = Vector2(348, 206.667)
transitions = ["Start", "idle", SubResource("AnimationNodeStateMachineTransition_7458e"), "idle", "run", SubResource("AnimationNodeStateMachineTransition_l62e1"), "run", "shoot", SubResource("AnimationNodeStateMachineTransition_0ad4g"), "shoot", "idle", SubResource("AnimationNodeStateMachineTransition_7k6gg"), "run", "idle", SubResource("AnimationNodeStateMachineTransition_6jk3g"), "shoot", "run", SubResource("AnimationNodeStateMachineTransition_dkrie"), "idle", "shoot", SubResource("AnimationNodeStateMachineTransition_8sl7f")]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_ul8py"]
radius = 41.6215
height = 117.503

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_pm2m3"]
direction = Vector3(-1, 0, 0)
spread = 15.61
gravity = Vector3(0, -98, 0)
initial_velocity_min = 14.58
initial_velocity_max = 14.58

[sub_resource type="CylinderMesh" id="CylinderMesh_hqhq4"]
height = 5.125

[node name="mech" type="Node3D"]
script = ExtResource("1_4wnik")

[node name="mech" parent="." instance=ExtResource("1_m5y15")]
transform = Transform3D(4, 0, 0, 0, 4, 0, 0, 0, 4, 0, 0, 0)

[node name="Skeleton3D" parent="mech/Armature" index="0"]
bones/0/position = Vector3(-2.37772e-16, -2.0849, -0.119592)
bones/3/rotation = Quaternion(-0.160484, 0.176451, -0.64892, 0.722505)
bones/4/rotation = Quaternion(0.853145, 0.0163389, 0.0644788, 0.517416)
bones/5/rotation = Quaternion(-0.0157442, 0.00175701, 0.00740982, 0.999847)
bones/12/rotation = Quaternion(-0.177436, -0.187008, 0.645766, 0.718701)
bones/13/rotation = Quaternion(0.863906, -0.0178764, -0.0649429, 0.499128)
bones/14/rotation = Quaternion(-0.000664006, -0.00190846, -0.0103242, 0.999945)
bones/22/rotation = Quaternion(0.13264, 0.232075, -0.694555, 0.667938)
bones/23/rotation = Quaternion(-0.26834, -4.84288e-08, -0.154748, 0.950814)
bones/24/rotation = Quaternion(0.324871, 9.96515e-08, 0.187349, 0.927016)
bones/25/rotation = Quaternion(0.518262, 5.21541e-08, 0.298874, 0.801298)
bones/30/rotation = Quaternion(0.430161, 0.0922721, 0.561215, 0.70106)
bones/31/rotation = Quaternion(-0.42303, 1.24797e-07, 0.243956, 0.872658)
bones/32/rotation = Quaternion(0.107621, 1.88302e-07, -0.0620639, 0.992253)
bones/33/rotation = Quaternion(0.667548, -7.82311e-08, -0.384966, 0.637323)

[node name="arm-lower-left" parent="mech/Armature/Skeleton3D" index="0"]
transform = Transform3D(0.975206, -0.221151, -0.00813593, 0.221178, 0.97523, 0.0025806, 0.0073637, -0.00431601, 0.999964, 8.39627, 2.5445, 1.79113)
bone_idx = 6

[node name="gun-case-left" parent="mech/Armature/Skeleton3D" index="1"]
transform = Transform3D(0.975206, -0.221151, -0.00813593, 0.221178, 0.97523, 0.0025806, 0.0073637, -0.00431601, 0.999964, 8.83886, 0.483432, 4.94933)
bone_idx = 7

[node name="gun-chamber-left" parent="mech/Armature/Skeleton3D" index="2"]
transform = Transform3D(0.975206, -0.221151, -0.00813593, 0.221178, 0.97523, 0.0025806, 0.0073637, -0.00431601, 0.999964, 8.83091, 0.49205, 5.73019)
bone_idx = 8

[node name="gun-mag-left" parent="mech/Armature/Skeleton3D" index="3"]
transform = Transform3D(0.975206, -0.221151, -0.00813593, 0.221178, 0.97523, 0.0025806, 0.0073637, -0.00431601, 0.999964, 9.42117, -1.87333, -1.40031)
bone_idx = 9

[node name="arm-upper-left" parent="mech/Armature/Skeleton3D" index="4"]
transform = Transform3D(0.99433, -0.104059, -0.0218856, 0.0955361, 0.964593, -0.245833, 0.0466918, 0.242348, 0.969065, 8.0521, 5.13692, -0.852587)
bone_idx = 10

[node name="arm-upper-right" parent="mech/Armature/Skeleton3D" index="5"]
transform = Transform3D(0.974428, 0.224614, 0.00616643, -0.224643, 0.974431, 0.00453558, -0.00499005, -0.00580478, 0.999971, -8.38825, 2.6535, 1.60295)
bone_idx = 15

[node name="gun-case-right" parent="mech/Armature/Skeleton3D" index="6"]
transform = Transform3D(0.974428, 0.224614, 0.00616643, -0.224643, 0.974431, 0.00453558, -0.00499005, -0.00580478, 0.999971, -8.84431, 0.599879, 4.76737)
bone_idx = 16

[node name="gun-chamber-right" parent="mech/Armature/Skeleton3D" index="7"]
transform = Transform3D(0.974428, 0.224614, 0.00616643, -0.224643, 0.974431, 0.00453558, -0.00499005, -0.00580478, 0.999971, -8.83743, 0.608991, 5.54675)
bone_idx = 17

[node name="gun-mag-right" parent="mech/Armature/Skeleton3D" index="8"]
transform = Transform3D(0.974428, 0.224614, 0.00616643, -0.224643, 0.974431, 0.00453558, -0.00499005, -0.00580478, 0.999971, -9.42261, -1.76743, -1.57943)
bone_idx = 18

[node name="arm-upper-right_001" parent="mech/Armature/Skeleton3D" index="9"]
transform = Transform3D(0.994589, 0.103328, 0.0107876, -0.0960284, 0.953986, -0.284058, -0.0396423, 0.281485, 0.958746, -8.04498, 5.18077, -0.95004)
bone_idx = 19

[node name="body" parent="mech/Armature/Skeleton3D" index="10"]
transform = Transform3D(1, 0, 2.84217e-14, 0, 1, -3.72529e-09, 2.84217e-14, -3.72529e-09, 1, -0.0147021, 5.4433, 0.0791013)
bone_idx = 20

[node name="foot-left" parent="mech/Armature/Skeleton3D" index="11"]
transform = Transform3D(1, -5.99077e-07, -3.8743e-07, 6.98958e-07, 0.999977, -0.00675071, 5.96046e-08, 0.0067506, 0.999977, 4.26821, -14.2917, -6.68124)
bone_idx = 26

[node name="leg-lower-left" parent="mech/Armature/Skeleton3D" index="12"]
transform = Transform3D(1, 3.72529e-08, 1.19209e-07, 8.9407e-08, 0.876935, -0.480609, -2.98023e-07, 0.480608, 0.876935, 4.26811, -10.8553, -3.62653)
bone_idx = 27

[node name="leg-upper-left" parent="mech/Armature/Skeleton3D" index="13"]
transform = Transform3D(1, -2.98023e-08, 1.49012e-07, 1.11759e-07, 0.783137, -0.62185, -2.08616e-07, 0.621849, 0.783137, 4.26648, -4.26929, -0.543922)
bone_idx = 28

[node name="foot-right" parent="mech/Armature/Skeleton3D" index="14"]
transform = Transform3D(1, -1.34605e-06, 8.34465e-07, 1.25868e-06, 0.999907, 0.0135884, -5.96046e-07, -0.0135883, 0.999908, -4.26759, -14.267, 3.32764)
bone_idx = 34

[node name="leg-lower-right" parent="mech/Armature/Skeleton3D" index="15"]
transform = Transform3D(1, -1.98931e-06, 9.83477e-07, 1.89245e-06, 0.999251, 0.038708, -9.53674e-07, -0.0387079, 0.999251, -4.26776, -9.67474, 4.27726)
bone_idx = 35

[node name="leg-upper-right" parent="mech/Armature/Skeleton3D" index="16"]
transform = Transform3D(1, -1.3411e-06, 6.25849e-07, 1.10269e-06, 0.966536, 0.256532, -8.9407e-07, -0.256531, 0.966536, -4.26784, -3.32906, 2.18173)
bone_idx = 36

[node name="hip" parent="mech/Armature/Skeleton3D" index="17"]
transform = Transform3D(1, -2.68222e-22, -7.10543e-15, -2.68222e-22, 1, 0, -7.10543e-15, 0, 1, -0.0082311, -1.04938, 0.117703)
bone_idx = 37

[node name="AnimationTree" type="AnimationTree" parent="."]
tree_root = SubResource("AnimationNodeStateMachine_kbpvn")
anim_player = NodePath("../mech/AnimationPlayer")
parameters/conditions/idle = false
parameters/conditions/run = false
parameters/conditions/shoot = true

[node name="Area3D" type="Area3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="Area3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 58.9657, 0)
shape = SubResource("CapsuleShape3D_ul8py")

[node name="arm-lower-l" type="BoneAttachment3D" parent="."]
transform = Transform3D(-3.89754, 0.0533187, -0.897976, -0.899069, -0.0992388, 3.89639, 0.029659, 3.99841, 0.108681, 33.0337, 76.362, 18.2909)
bone_name = "arm-lower.L.001"
bone_idx = 5
use_external_skeleton = true
external_skeleton = NodePath("../mech/Armature/Skeleton3D")

[node name="GPUParticles3D" type="GPUParticles3D" parent="arm-lower-l"]
emitting = false
lifetime = 2.0
speed_scale = 2.0
process_material = SubResource("ParticleProcessMaterial_pm2m3")
draw_pass_1 = SubResource("CylinderMesh_hqhq4")

[node name="fire-l" type="Node3D" parent="arm-lower-l"]
transform = Transform3D(1, 1.95578e-08, -5.66943e-08, 3.11993e-08, 1, 2.79397e-08, 9.18953e-08, 5.58794e-09, 1, 0.0733299, 4.17292, -0.250731)

[node name="arm-lower-r" type="BoneAttachment3D" parent="."]
transform = Transform3D(-3.89392, -0.0569838, 0.913302, 0.912927, 0.0316717, 3.8943, -0.0627093, 3.99947, -0.0178263, -33.0183, 76.8164, 17.5454)
bone_name = "arm-lower.R.001"
bone_idx = 14
use_external_skeleton = true
external_skeleton = NodePath("../mech/Armature/Skeleton3D")

[node name="GPUParticles3D2" type="GPUParticles3D" parent="arm-lower-r"]
transform = Transform3D(-0.89681, 0.0288795, -0.441473, 0.026175, 0.999583, 0.012217, 0.441642, -0.000599225, -0.897192, 0, 0, 0)
emitting = false
lifetime = 2.0
process_material = SubResource("ParticleProcessMaterial_pm2m3")
draw_pass_1 = SubResource("CylinderMesh_hqhq4")

[node name="fire-r" type="Node3D" parent="arm-lower-r"]
transform = Transform3D(1, 0, -1.56215e-08, 0, 1, 1.02445e-08, -7.43821e-08, -4.65661e-10, 1, -0.127924, 4.72571, -0.339983)

[editable path="mech"]
